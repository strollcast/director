---
import Layout from '../layouts/Layout.astro';
---

<Layout title="How It Works">
  <header>
    <h1>How It Works</h1>
    <p class="subtitle">From paper to podcast in a few steps.</p>
  </header>

  <section class="content">
    <h2>The Process</h2>
    <p>
      We take influential machine learning and systems papers and transform them
      into ~25-30 minute podcast episodes. Each episode features a conversational
      format with two hostsâ€”Alex and Mayaâ€”who break down complex technical concepts
      into accessible explanations.
    </p>

    <h2>What Each Episode Covers</h2>
    <ul>
      <li>The core problem and motivation behind the research</li>
      <li>Key technical contributions and innovations</li>
      <li>Practical implications and real-world usage</li>
      <li>Comparisons with alternative approaches</li>
      <li>Best practices and recommendations</li>
    </ul>

    <h2>Episode Format</h2>
    <p>Each paper folder in our repository contains:</p>

    <div class="file-list">
      <div class="file-item">
        <code>script.md</code>
        <span>The full podcast transcript in markdown format</span>
      </div>
      <div class="file-item">
        <code>podcast.m4a</code>
        <span>The audio file, compatible with iPhone and Android</span>
      </div>
      <div class="file-item">
        <code>generate.py</code>
        <span>The Python script used to generate the audio</span>
      </div>
      <div class="file-item">
        <code>README.md</code>
        <span>Paper metadata and regeneration instructions</span>
      </div>
    </div>

    <h2>Technology</h2>
    <p>
      Our podcasts are generated using <a href="https://elevenlabs.io">ElevenLabs</a>
      text-to-speech with their turbo model for realistic, natural-sounding voices.
      We use two distinct voices for the hosts to create an engaging conversational dynamic.
    </p>

    <h3>Voice Configuration</h3>
    <ul>
      <li><strong>Alex</strong> â€” Adam voice (deep male, British accent)</li>
      <li><strong>Maya</strong> â€” Rachel voice (clear female, American accent)</li>
    </ul>

    <h2>Regenerating Episodes</h2>
    <p>
      Each episode can be regenerated using the included Python script.
      You'll need an ElevenLabs API key and <code>ffmpeg</code> installed.
    </p>

    <pre><code># Set your API key
export ELEVENLABS_API_KEY="your-api-key"

# Install dependencies
pip install elevenlabs

# Generate the podcast
cd zhao-2023-pytorch-fsdp
python generate.py</code></pre>

    <h2>Contributing</h2>
    <p>
      Want to add a paper? The script format is straightforwardâ€”check out any
      existing <code>script.md</code> file for the expected structure. The key
      elements are:
    </p>
    <ul>
      <li>Speaker lines prefixed with <code>**ALEX:**</code> or <code>**MAYA:**</code></li>
      <li>Section headers with timestamps (used for organization)</li>
      <li>Natural, conversational language that explains technical concepts</li>
    </ul>

    <h2>Listening Tips</h2>
    <div class="tips">
      <div class="tip">
        <span class="tip-icon">ðŸŽ§</span>
        <div>
          <strong>On iPhone</strong>
          <p>AirDrop the .m4a file or save to Files app. Open with the built-in player or any podcast app.</p>
        </div>
      </div>
      <div class="tip">
        <span class="tip-icon">ðŸ“±</span>
        <div>
          <strong>On Android</strong>
          <p>Download the .m4a file and open with any media player. Most support the format natively.</p>
        </div>
      </div>
      <div class="tip">
        <span class="tip-icon">ðŸš¶</span>
        <div>
          <strong>Best Experience</strong>
          <p>Episodes are designed for walks. The conversational pace works well at 1x-1.25x speed.</p>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  header {
    margin-bottom: 3rem;
  }

  .subtitle {
    font-size: 1.25rem;
    color: var(--text-secondary);
  }

  .content {
    max-width: 800px;
  }

  .content h2 {
    margin-top: 3rem;
  }

  .content h2:first-of-type {
    margin-top: 0;
  }

  ul {
    list-style: none;
    padding: 0;
  }

  ul li {
    position: relative;
    padding-left: 1.5rem;
    margin-bottom: 0.5rem;
    color: var(--text-secondary);
  }

  ul li::before {
    content: "â†’";
    position: absolute;
    left: 0;
    color: var(--accent);
  }

  .file-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin: 1rem 0;
  }

  .file-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    background: var(--bg-card);
    border-radius: 8px;
  }

  .file-item code {
    flex-shrink: 0;
    color: var(--accent);
  }

  .file-item span {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }

  pre {
    margin: 1.5rem 0;
  }

  .tips {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .tip {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-card);
    border-radius: 8px;
  }

  .tip-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .tip strong {
    display: block;
    margin-bottom: 0.25rem;
    color: var(--text-primary);
  }

  .tip p {
    margin: 0;
    font-size: 0.9rem;
  }

  @media (max-width: 640px) {
    .file-item {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.25rem;
    }
  }
</style>
